<!--components/results-table/results-table.component.html-->

<!-- Simple inline error display for table actions -->
<div class="error" *ngIf="errorMessage">{{ errorMessage }}</div>

<!-- Headers so be sortable on a click
      (click)="onHeaderClick(h.field)"
      columns are as follows
        - the expansion column no text but for an expander button
        - partNumber
        - supplierSku
        - description
        - branch
        - availableQty
        - uom
        - leadTimeDays
        - lastPurchaseDate
        - Action peak availability button)
 -->
<table>
  <thead>

  </thead>
<!-- Data rows
hint use <button (click)="toggleExpand(item)" aria-label="expand row">▸</button>
with appropriate class to expand/collapse the row on first column click
use           (click)="onPeakButton(item)" for peakAvailability button
on clicking the button should be disabled with a loading indicator then once the data is loaded the
button should go back to normal state and the data appears below the row and the lot information
Note befoe the data appears the message No peak availability loaded yet. Should be displayed
This button should also display the Lot information similar to the expander button at the beginning
The expander button the display the No peak availability loaded yet if not yet loaded

Expanded section should be like

Lots
   Lot {{ lot.lotNumber }} — Qty {{ lot.qty }} — Exp {{ lot.expirationDate || 'N/A' }}
   Lot {{ lot.lotNumber }} — Qty {{ lot.qty }} — Exp {{ lot.expirationDate || 'N/A' }}
   Lot {{ lot.lotNumber }} — Qty {{ lot.qty }} — Exp {{ lot.expirationDate || 'N/A' }}

 <strong>Part:</strong> {{ peak?.partNumber || item.partNumber }}
 <strong>Total available:</strong> {{ peak?.totalAvailable ?? 0 }}
 <strong>By branch:</strong>
{{ b.branch }}: {{ b.qty }}
{{ b.branch }}: {{ b.qty }}
  -->
  <tbody>

  </tbody>
</table>

<!-- Simple pagination controls  -->
<div class="pager" aria-label="Pagination">
  <button type="button" (click)="goTo(pageIndex - 1)" [disabled]="pageIndex <= 0">Prev</button>
  <span>Page {{ pageIndex + 1 }} / {{ totalPages(total, pageSize) }}</span>
  <button type="button" (click)="goTo(pageIndex + 1)" [disabled]="pageIndex >= totalPages(total, pageSize) - 1">
    Next
  </button>
</div>
